<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://assets.onecompiler.app/438cc35sk/43CGe3a6x/BasiKno%20logo%20representing%20Mathematics,%20Physics,%20and%20Chemistry%20in%20a%20minimalist,%20evergreen%20style.png">
    <title>BasiKno</title>
    <link rel="stylesheet" href="./src/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Define your color palette */
        :root {
            --dark-space: #1a0a2e;
            --deep-purple: #4a0072;
            --electric-blue: #007bff;
            --cosmic-purple: #8a2be2;
            --light-purple: #e0b0ff;
            --accent-blue: #00b0ff;
            --danger: #ff3860;
            
            /* Light mode variables */
            --light-bg: #f5f5ff;
            --light-text: #333344;
            --light-accent: #5e35b1;
            --light-border: #d1c4e9;
            --light-card: #ffffff;
            --light-shadow-base: rgba(93, 53, 177, 0.15); /* Softer shadow for light mode */
            --dark-shadow-base: rgba(74, 0, 114, 0.5); /* Deeper shadow for dark mode */
        }

        /* Universal box-sizing and font */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Orbitron', 'Segoe UI', system-ui; /* Original font priority for Basikno theme */
            transition: background-color 0.5s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        /* Import Orbitron font from Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        
        /* Body styles */
          body {
        overflow-x: hidden;
        overflow-y: transparent; 
            color: var(--light-purple); /* All text to light purple by default */
            line-height: 1.6;
            overflow-x: hidden;
            background-color: var(--dark-space); /* Ensure body background is dark */
        }
        
        body.light-mode {
            color: var(--light-text);
            background-color: var(--light-bg);
        }
        
        /* --- Premium Loading Screen Styles --- */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1a0a2e; /* Dark fallback */
            background-image: url('https://about.fb.com/wp-content/uploads/2024/04/Meta-AI-Expasion_Header.gif');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999; /* Ensure it's on top of everything */
            opacity: 1;
            transition: opacity 0.7s ease-out, visibility 0.7s ease-out;
            flex-direction: column; /* For title and spinner */
            gap: 20px;
        }

        #loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-content {
            text-align: center;
        }

        #loading-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem; /* Larger text */
            font-weight: 700;
            text-shadow: 0 0 10px var(--accent-blue), 0 0 20px var(--accent-blue), 0 0 30px var(--deep-purple);
            position: relative;
            /* Shimmer effect */
             background: linear-gradient(90deg, var(--light-accent), var(--light-text), var(--light-accent));
             background-size: 200% auto;
             color: transparent;
            -webkit-background-clip: text;
             background-clip: text;
             text-shadow: 0 0 10px rgba(93, 53, 177, 0.3);
             animation: shimmer 3s linear infinite, pulse 2s infinite alternate;
        }

        @keyframes shimmer {
            to {
                background-position: -200% center;
            }
        }
        
        @keyframes pulse {
            from { transform: scale(1); opacity: 0.9; }
            to { transform: scale(1.05); opacity: 1; }
        }

        .spinner { display: none; } /* Hide old spinner */

        /* New Premium Spinner */
        .premium-spinner {
            margin: 30px auto;
            width: 60px;
            height: 60px;
            position: relative;
        }

        .premium-spinner::before, .premium-spinner::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            inset: 0;
            border: 4px solid transparent;
            border-top-color: var(--electric-blue);
            animation: spin 1.5s linear infinite;
        }

        .premium-spinner::after {
            border-top-color: var(--cosmic-purple);
            animation-delay: -0.5s;
            animation-direction: reverse;
        }
        
        body.light-mode .premium-spinner::before { border-top-color: var(--light-accent); }
        body.light-mode .premium-spinner::after { border-top-color: #7e57c2; }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .progress-bar-container {
            width: 250px;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            margin: 20px auto;
            overflow: hidden;
        }
        
        body.light-mode .progress-bar-container { background: rgba(0,0,0,0.1); }

        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--deep-purple), var(--electric-blue), var(--accent-blue));
            border-radius: 4px;
            animation: loadProgress 3s ease-out forwards;
        }
        
        body.light-mode .progress-bar { background: linear-gradient(90deg, var(--light-accent), #7e57c2, #b39ddb); }

        @keyframes loadProgress {
            from { width: 0%; }
            to { width: 100%; }
        }

        .loading-subtext {
            color: var(--light-text);
            font-size: 1rem;
            letter-spacing: 1px;
            margin-top: 10px;
        }
        /* --- End Loading Screen Styles --- */


        /* 3D Background - Fixed to cover the whole viewport */
        #background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -100; /* Send to back */
            pointer-events: none; /* Allow interaction with elements behind it */
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        
        body.light-mode #background {
            opacity: 0;
        }
        
        /* Light mode background GIF */
        .light-bg-gif {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -101;
            pointer-events: none;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        body.light-mode .light-bg-gif {
            opacity: 0.3;
        }
        
        /* 3D Interactive Model - Positioned in the top-right, responsive adjustments */
        #interactive-model {
            position: fixed;
            /* Using percentage and fixed pixels to balance responsiveness and exact placement */
            top: 10%; /* Start slightly down from the very top */
            right: 5%; /* Keep it from the extreme right edge */
            width: 180px; /* Base size */
            height: 180px; /* Base size */
            z-index: 1000; /* Keep on top of most content */
            pointer-events: none; /* Allow interaction with elements behind it */
            mix-blend-mode: screen; /* Blends nicely with dark backgrounds */
            transform: translateZ(0); /* Optimize rendering with hardware acceleration */
            transition: all 0.3s ease-in-out; /* Smooth transitions for responsive changes */
        }
        
        body.light-mode #interactive-model {
            mix-blend-mode: multiply;
        }
        
        /* Main content container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 1; /* Ensure content is above background */
        }
        
        /* Generic pixel-style border for visual elements */
        .pixel-border {
            position: relative;
            border: 4px solid var(--electric-blue);
            box-shadow: 0 0 0 4px var(--deep-purple),
                        0 0 20px rgba(74, 0, 114, 0.5),
                        inset 0 0 0 4px var(--deep-purple),
                        inset 0 0 20px rgba(74, 0, 114, 0.5);
        }
        
        body.light-mode .pixel-border {
            border: 4px solid var(--light-accent);
            box-shadow: 0 0 0 4px var(--light-border),
                        0 0 20px rgba(93, 53, 177, 0.3),
                        inset 0 0 0 4px var(--light-border),
                        inset 0 0 20px rgba(93, 53, 177, 0.3);
        }
        
        /* Header - Fixed at the top, transparent with blur effect */
        header {
            padding: 20px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px); /* Glassmorphism effect */
            background-color: rgba(26, 10, 46, 0.6); /* Adjusted background color */
            border-bottom: 1px solid var(--electric-blue);
            transform: translateZ(0); /* Promote to own layer for performance */
        }
        
        body.light-mode header {
            background-color: rgba(245, 245, 255, 0.8);
            border-bottom: 1px solid var(--light-accent);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Logo styling */
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--accent-blue);
            text-decoration: none;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 176, 255, 0.7);
        }
        
        body.light-mode .logo {
            color: var(--light-accent);
            text-shadow: 0 0 10px rgba(93, 53, 177, 0.4);
        }
        
        /* Navigation links */
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-links a {
            color: var(--light-purple); /* Text color changed */
            text-decoration: none;
            font-size: 0.9rem;
            position: relative;
            transition: all 0.3s ease;
            font-family: 'Orbitron', sans-serif; /* Original font */
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        body.light-mode .nav-links a {
            color: var(--light-text);
        }
        
        .nav-links a:hover {
            color: var(--accent-blue);
        }
        
        body.light-mode .nav-links a:hover {
            color: var(--light-accent);
        }
        
        .nav-links a::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent-blue);
            transition: width 0.3s ease;
        }
        
        body.light-mode .nav-links a::after {
            background-color: var(--light-accent);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }

        /* Settings Button */
        .settings-button {
            background: none;
            border: none;
            color: var(--light-purple);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
            margin-left: 20px;
            padding: 5px;
        }
        
        body.light-mode .settings-button {
            color: var(--light-text);
        }

        .settings-button:hover {
            color: var(--accent-blue);
        }
        
        body.light-mode .settings-button:hover {
            color: var(--light-accent);
        }

        /* Settings Modal */
        .settings-modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 2000; /* Above everything */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8); /* Dark semi-transparent background */
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .settings-content {
            background-color: var(--dark-space);
            margin: auto;
            padding: 30px;
            border: 2px solid var(--electric-blue);
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 0 30px rgba(0, 123, 255, 0.5);
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        
        body.light-mode .settings-content {
            background-color: var(--light-card);
            border: 2px solid var(--light-accent);
            box-shadow: 0 0 30px rgba(93, 53, 177, 0.3);
        }

        .settings-content h2 {
            color: var(--cosmic-purple);
            margin-bottom: 25px;
            text-align: center;
            font-size: 2rem;
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.7);
        }
        
        body.light-mode .settings-content h2 {
            color: var(--light-accent);
            text-shadow: 0 0 10px rgba(93, 53, 177, 0.3);
        }

        .settings-option {
            margin-bottom: 20px;
        }

        .settings-option label {
            display: block;
            color: var(--light-purple);
            margin-bottom: 10px;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        body.light-mode .settings-option label {
            color: var(--light-text);
        }

        .settings-option button {
            background: linear-gradient(45deg, var(--deep-purple), var(--electric-blue));
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            width: 100%;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        body.light-mode .settings-option button {
            background: linear-gradient(45deg, var(--light-accent), #7e57c2);
        }

        .settings-option button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        }
        
        body.light-mode .settings-option button:hover {
            box-shadow: 0 5px 15px rgba(93, 53, 177, 0.3);
        }

        .close-button {
            position: absolute;
            top: 15px;
            right: 20px;
            color: var(--light-purple);
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        body.light-mode .close-button {
            color: var(--light-text);
        }

        .close-button:hover,
        .close-button:focus {
            color: var(--danger);
            text-decoration: none;
        }

        /* Modal fade-in animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 150px 0 100px;
            position: relative;
        }
        
        .hero-content {
            display: flex;
            align-items: center;
            gap: 50px;
        }
        
        .hero-text {
            flex: 1;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 30px;
            line-height: 1.2;
            color: var(--cosmic-purple); /* Text color changed */
            text-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
            font-weight: 700;
        }
        
        body.light-mode .hero h1 {
            color: var(--light-accent);
            text-shadow: 0 0 15px rgba(93, 53, 177, 0.3);
        }
        
        .hero p {
            font-size: 1.3rem;
            margin-bottom: 40px;
            color: var(--light-purple); /* Text color changed */
            max-width: 600px;
        }
        
        body.light-mode .hero p {
            color: var(--light-text);
        }
        
        /* Call to action buttons */
        .cta-buttons {
            display: flex;
            gap: 20px;
            margin-top: 40px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            font-family: 'Orbitron', sans-serif; /* Original font */
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--accent-blue), var(--electric-blue));
            color: var(--dark-space);
            box-shadow: 0 5px 15px rgba(0, 176, 255, 0.4);
        }
        
        body.light-mode .btn-primary {
            background: linear-gradient(45deg, var(--light-accent), #7e57c2);
            color: white;
            box-shadow: 0 5px 15px rgba(93, 53, 177, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
            box-shadow: 0 5px 15px rgba(0, 176, 255, 0.2);
        }
        
        body.light-mode .btn-secondary {
            color: var(--light-accent);
            border: 2px solid var(--light-accent);
            box-shadow: 0 5px 15px rgba(93, 53, 177, 0.2);
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 176, 255, 0.6);
        }
        
        body.light-mode .btn:hover {
            box-shadow: 0 10px 25px rgba(93, 53, 177, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        /* Subjects Section */
        .subjects {
            padding: 100px 0;
            position: relative;
            background: rgba(26, 10, 46, 0.7);
            backdrop-filter: blur(5px);
        }
        
        body.light-mode .subjects {
            background: rgba(245, 245, 255, 0.8);
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 80px;
            font-size: 2.8rem;
            color: var(--cosmic-purple);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 700;
        }
        
        body.light-mode .section-title {
            color: var(--light-accent);
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            bottom: -15px;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--deep-purple), var(--electric-blue), var(--accent-blue));
            border-radius: 2px;
        }
        
        body.light-mode .section-title::after {
            background: linear-gradient(90deg, var(--light-accent), #7e57c2, #b39ddb);
        }
        
        .subjects-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .subject-card {
            background: rgba(30, 15, 55, 0.7);
            border-radius: 15px;
            padding: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(74, 0, 114, 0.3);
            backdrop-filter: blur(5px);
            text-align: center;
            cursor: pointer;
        }
        
        body.light-mode .subject-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(209, 196, 233, 0.5);
        }
        
        .subject-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(74, 0, 114, 0.1) 0%, transparent 50%);
            z-index: -1;
        }
        
        body.light-mode .subject-card::before {
            background: radial-gradient(circle at 20% 30%, rgba(209, 196, 233, 0.2) 0%, transparent 50%);
        }
        
        .subject-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px var(--dark-shadow-base); /* Use variable */
            border-color: var(--accent-blue);
            will-change: transform, box-shadow; /* Performance hint */
        }
        
        body.light-mode .subject-card:hover {
            box-shadow: 0 15px 30px var(--light-shadow-base); /* Use variable */
            border-color: var(--light-accent);
        }
        
        .subject-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--accent-blue);
        }
        
        body.light-mode .subject-icon {
            color: var(--light-accent);
        }
        
        .subject-card h3 {
            color: var(--electric-blue);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        body.light-mode .subject-card h3 {
            color: var(--light-accent);
        }
        
        .subject-card p {
            color: rgba(224, 176, 255, 0.8);
            font-size: 1rem;
        }
        
        body.light-mode .subject-card p {
            color: rgba(51, 51, 68, 0.9);
        }

        /* Subjects Table */
        .game-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 15px;
            margin-top: 50px;
        }
        
        .game-table th {
            background: linear-gradient(90deg, var(--deep-purple), var(--electric-blue));
            color: var(--dark-space);
            padding: 15px;
            text-align: left;
            font-size: 1.1rem;
            position: relative;
            font-family: 'Orbitron', sans-serif;
        }
        
        body.light-mode .game-table th {
            background: linear-gradient(90deg, var(--light-accent), #7e57c2);
            color: white;
        }
        
        .game-table th::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--electric-blue), var(--accent-blue));
            opacity: 0.7;
        }
        
        body.light-mode .game-table th::after {
            background: linear-gradient(90deg, #7e57c2, #b39ddb);
        }
        
        .game-table td {
            background: rgba(40, 15, 70, 0.7);
            padding: 20px;
            border: 1px solid rgba(74, 0, 114, 0.3);
            border-style: solid none;
            position: relative;
            transition: all 0.3s ease;
            backdrop-filter: blur(3px);
            color: var(--light-purple);
        }
        
        body.light-mode .game-table td {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(209, 196, 233, 0.5);
            color: var(--light-text);
        }
        
        .game-table td:first-child {
            border-left-style: solid;
            border-top-left-radius: 10px;
            border-bottom-left-radius: 10px;
            font-weight: bold;
            color: var(--accent-blue);
            font-family: 'Orbitron', sans-serif;
        }
        
        body.light-mode .game-table td:first-child {
            color: var(--light-accent);
        }
        
        .game-table td:last-child {
            border-right-style: solid;
            border-top-right-radius: 10px;
            border-bottom-right-radius: 10px;
        }
        
        .game-table tr:hover td {
            background: rgba(50, 20, 80, 0.9);
            transform: translateX(5px);
            box-shadow: -5px 0 15px var(--dark-shadow-base); /* Use variable */
            will-change: transform, background-color, box-shadow; /* Performance hint */
        }
        
        body.light-mode .game-table tr:hover td {
            background: rgba(245, 245, 255, 0.8);
            box-shadow: -5px 0 15px var(--light-shadow-base); /* Use variable */
        }

        /* Iframe container for subject content */
        .iframe-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            background-color: var(--dark-space);
        }
        
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .iframe-close {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, var(--deep-purple), var(--electric-blue));
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 2001;
            font-size: 1.2rem;
            box-shadow: 0 0 15px rgba(0, 123, 255, 0.5);
        }
        
        body.light-mode .iframe-close {
            background: linear-gradient(45deg, var(--light-accent), #7e57c2);
            box-shadow: 0 0 15px rgba(93, 53, 177, 0.4);
        }

        /* Score Section */
        .score-section {
            padding: 100px 0;
            background: rgba(26, 10, 46, 0.7);
            backdrop-filter: blur(5px);
            position: relative;
        }
        
        body.light-mode .score-section {
            background: rgba(245, 245, 255, 0.8);
        }
        
        .user-level {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(30, 15, 55, 0.8);
            border-radius: 15px;
            border: 2px solid var(--electric-blue);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        body.light-mode .user-level {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--light-accent);
        }
        
        .user-level h3 {
            color: var(--accent-blue);
            margin-bottom: 10px;
            font-size: 1.8rem;
        }
        
        body.light-mode .user-level h3 {
            color: var(--light-accent);
        }
        
        .level-display {
            font-size: 2.5rem;
            color: var(--cosmic-purple);
            font-weight: bold;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
        }
        
        body.light-mode .level-display {
            color: var(--light-accent);
            text-shadow: 0 0 10px rgba(93, 53, 177, 0.3);
        }
        
        .score-charts {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .chart-container {
            background: rgba(30, 15, 55, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(74, 0, 114, 0.3);
            flex: 1;
            min-width: 300px;
            max-width: 500px;
        }
        
        body.light-mode .chart-container {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(209, 196, 233, 0.5);
        }
        
        .chart-title {
            color: var(--accent-blue);
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        body.light-mode .chart-title {
            color: var(--light-accent);
        }
        
        .score-history {
            background: rgba(30, 15, 55, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(74, 0, 114, 0.3);
            max-width: 800px;
            margin: 0 auto;
        }
        
        body.light-mode .score-history {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(209, 196, 233, 0.5);
        }
        
        .score-history h3 {
            color: var(--accent-blue);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5rem;
        }
        
        body.light-mode .score-history h3 {
            color: var(--light-accent);
        }
        
        .score-list {
            list-style: none;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
        }
        
        body.light-mode .score-list {
            border-bottom: 1px solid rgba(209, 196, 233, 0.5);
        }
        
        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid rgba(74, 0, 114, 0.3);
            transition: all 0.3s ease;
        }
        
        body.light-mode .score-item {
            border-bottom: 1px solid rgba(209, 196, 233, 0.5);
        }
        
        .score-item:hover {
            background: rgba(40, 15, 70, 0.9);
            transform: translateX(5px);
        }
        
        body.light-mode .score-item:hover {
            background: rgba(245, 245, 255, 0.8);
        }
        
        .score-date {
            color: var(--light-purple);
            font-size: 0.9rem;
            flex: 1;
        }
        
        body.light-mode .score-date {
            color: var(--light-text);
        }
        
        .score-value {
            color: var(--electric-blue);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        body.light-mode .score-value {
            color: var(--light-accent);
        }
        
        /* Contact Form Styles - Improved */
        .contact-section {
            padding: 100px 0;
            background: rgba(26, 10, 46, 0.7);
            backdrop-filter: blur(5px);
            position: relative;
        }
        
        body.light-mode .contact-section {
            background: rgba(245, 245, 255, 0.8);
        }
        
        .contact-form {
            background: rgba(30, 15, 55, 0.7);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            margin: 50px auto;
            border: 2px solid var(--electric-blue);
            backdrop-filter: blur(5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        body.light-mode .contact-form {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--light-accent);
            box-shadow: 0 10px 30px rgba(93, 53, 177, 0.2);
        }
        
        .contact-form::before {
            content: "";
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, var(--deep-purple), transparent, var(--accent-blue));
            z-index: -1;
            border-radius: 25px;
            filter: blur(20px);
            opacity: 0.5;
            animation: glowPulse 3s infinite alternate;
        }
        
        body.light-mode .contact-form::before {
            background: linear-gradient(45deg, var(--light-accent), transparent, #7e57c2);
            opacity: 0.3;
        }
        
        @keyframes glowPulse {
            0% { opacity: 0.3; }
            100% { opacity: 0.7; }
        }
        
        .contact-form h2 {
            color: var(--accent-blue);
            margin-bottom: 30px;
            text-align: center;
            font-size: 2rem;
            position: relative;
            padding-bottom: 15px;
        }
        
        body.light-mode .contact-form h2 {
            color: var(--light-accent);
        }
        
        .contact-form h2::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--deep-purple), var(--electric-blue));
            border-radius: 3px;
        }
        
        body.light-mode .contact-form h2::after {
            background: linear-gradient(90deg, var(--light-accent), #7e57c2);
        }
        
        .form-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--light-purple);
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            transform-origin: left;
        }
        
        body.light-mode .form-group label {
            color: var(--light-text);
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--deep-purple);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--light-purple);
            font-family: 'Orbitron', sans-serif;
            transition: all 0.3s ease;
            outline: none;
        }
        
        body.light-mode .form-group input,
        body.light-mode .form-group textarea {
            border: 2px solid var(--light-border);
            background: rgba(255, 255, 255, 0.8);
            color: var(--light-text);
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            border-color: var(--electric-blue);
            box-shadow: 0 0 15px rgba(0, 123, 255, 0.3);
        }
        
        body.light-mode .form-group input:focus,
        body.light-mode .form-group textarea:focus {
            border-color: var(--light-accent);
            box-shadow: 0 0 15px rgba(93, 53, 177, 0.2);
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .submit-btn {
            background: linear-gradient(45deg, var(--deep-purple), var(--electric-blue));
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-size: 1.1rem;
            margin-top: 10px;
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.3);
        }
        
        body.light-mode .submit-btn {
            background: linear-gradient(45deg, var(--light-accent), #7e57c2);
            box-shadow: 0 8px 25px rgba(93, 53, 177, 0.2);
        }
        
        .submit-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }
        
        .submit-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 123, 255, 0.4);
        }
        
        body.light-mode .submit-btn:hover {
            box-shadow: 0 15px 35px rgba(93, 53, 177, 0.3);
        }
        
        .submit-btn:hover::before {
            left: 100%;
        }

        /* Message Box for Form Submission */
        #formMessage {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            display: none; /* Hidden by default */
        }

        #formMessage.success {
            background-color: rgba(0, 255, 128, 0.2);
            color: #00ff80;
            border: 1px solid #00ff80;
        }

        #formMessage.error {
            background-color: rgba(255, 56, 96, 0.2);
            color: var(--danger);
            border: 1px solid var(--danger);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(180deg, rgba(26, 10, 46, 0.9), rgba(15, 5, 30, 1));
            color: var(--light-purple);
            padding: 80px 0 30px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }
        
        body.light-mode footer {
            background: linear-gradient(180deg, rgba(245, 245, 255, 0.9), rgba(225, 215, 245, 1));
            color: var(--light-text);
        }
        
        footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--electric-blue), transparent);
        }
        
        body.light-mode footer::before {
            background: linear-gradient(90deg, transparent, var(--light-accent), transparent);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            color: var(--accent-blue);
            margin-bottom: 20px;
            font-size: 1.3rem;
            position: relative;
            display: inline-block;
            font-family: 'Orbitron', sans-serif;
        }
        
        body.light-mode .footer-column h3 {
            color: var(--light-accent);
        }
        
        .footer-column h3::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--electric-blue);
        }
        
        body.light-mode .footer-column h3::after {
            background: var(--light-accent);
        }
        
        .footer-column p {
            margin-bottom: 20px;
            color: rgba(224, 176, 255, 0.7);
        }
        
        body.light-mode .footer-column p {
            color: rgba(51, 51, 68, 0.8);
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column ul li a {
            color: var(--light-purple);
            text-decoration: none;
            transition: all 0.3s ease;
            display: block;
            padding: 5px 0;
        }
        
        body.light-mode .footer-column ul li a {
            color: var(--light-text);
        }
        
        .footer-column ul li a:hover {
            color: var(--accent-blue);
            transform: translateX(5px);
        }
        
        body.light-mode .footer-column ul li a:hover {
            color: var(--light-accent);
        }
        
        .footer-column ul li a::before {
            content: ">";
            color: var(--accent-blue);
            margin-right: 10px;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        body.light-mode .footer-column ul li a::before {
            color: var(--light-accent);
        }
        
        .footer-column ul li a:hover::before {
            opacity: 1;
            margin-right: 15px;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            color: var(--light-purple);
            font-size: 1.1rem;
        }
        
        body.light-mode .social-icon {
            background: rgba(93, 53, 177, 0.1);
            color: var(--light-text);
        }
        
        .social-icon:hover {
            background: var(--accent-blue);
            color: var(--dark-space);
            transform: translateY(-5px) rotate(10deg);
            box-shadow: 0 5px 15px rgba(0, 176, 255, 0.5);
        }
        
        body.light-mode .social-icon:hover {
            background: var(--light-accent);
            color: white;
            box-shadow: 0 5px 15px rgba(93, 53, 177, 0.4);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(74, 0, 114, 0.3);
            color: rgba(224, 176, 255, 0.5);
            font-size: 0.8rem;
        }
        
        body.light-mode .copyright {
            border-top: 1px solid rgba(209, 196, 233, 0.5);
            color: rgba(51, 51, 68, 0.6);
        }
        
        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        /* Theme Switch Styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--deep-purple);
            transition: .4s;
            border-radius: 34px;
        }
        
        body.light-mode .slider {
            background-color: var(--light-accent);
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--electric-blue);
        }
        
        body.light-mode input:checked + .slider {
            background-color: #7e57c2;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        /* Chatbot Styles - Updated */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            max-width: 90%;
            z-index: 1000;
            font-family: 'Orbitron', sans-serif;
        }
        
        .chatbot-toggle {
            background: linear-gradient(45deg, var(--accent-blue), var(--electric-blue));
            color: var(--dark-space);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 176, 255, 0.4);
            transition: all 0.3s ease;
            margin-left: auto;
            position: relative;
            z-index: 1001;
        }
        
        body.light-mode .chatbot-toggle {
            background: linear-gradient(45deg, var(--light-accent), #7e57c2);
            color: white;
            box-shadow: 0 4px 15px rgba(93, 53, 177, 0.3);
        }
        
        .chatbot-toggle:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 176, 255, 0.6);
        }
        
        body.light-mode .chatbot-toggle:hover {
            box-shadow: 0 8px 25px rgba(93, 53, 177, 0.4);
        }
        
        .chatbot-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            background: rgba(30, 15, 55, 0.9);
            border-radius: 15px;
            border: 2px solid var(--electric-blue);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: none;
            flex-direction: column;
            height: 500px;
            width: 100%;
            backdrop-filter: blur(10px);
        }
        
        body.light-mode .chatbot-window {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--light-accent);
        }
        
        .chatbot-header {
            background: linear-gradient(90deg, var(--deep-purple), var(--electric-blue));
            color: white;
            padding: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        body.light-mode .chatbot-header {
            background: linear-gradient(90deg, var(--light-accent), #7e57c2);
        }
        
        .chatbot-header h3 {
            margin: 0;
            font-size: 1.2rem;
            text-align: center;
        }
        
        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            line-height: 1.4;
            position: relative;
        }
        
        .bot-message {
            background: rgba(74, 0, 114, 0.5);
            color: var(--light-purple);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        body.light-mode .bot-message {
            background: rgba(209, 196, 233, 0.7);
            color: var(--light-text);
        }
        
        .user-message {
            background: rgba(0, 123, 255, 0.5);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        body.light-mode .user-message {
            background: rgba(93, 53, 177, 0.5);
        }
        
        .chatbot-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid rgba(74, 0, 114, 0.3);
            background: rgba(26, 10, 46, 0.7);
        }
        
        body.light-mode .chatbot-input {
            border-top: 1px solid rgba(209, 196, 233, 0.5);
            background: rgba(245, 245, 255, 0.9);
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light-purple);
            font-family: 'Orbitron', sans-serif;
        }
        
        body.light-mode .chatbot-input input {
            background: rgba(255, 255, 255, 0.8);
            color: var(--light-text);
        }
        
        .chatbot-input button {
            background: var(--accent-blue);
            color: var(--dark-space);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-left: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        body.light-mode .chatbot-input button {
            background: var(--light-accent);
            color: white;
        }

        /* Loading animation for chatbot */
        .bot-message.loading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            padding: 15px 20px;
        }
        
        .dot {
            width: 8px;
            height: 8px;
            background-color: var(--light-purple);
            border-radius: 50%;
            animation: dotPulse 1.5s infinite ease-in-out;
        }
        
        body.light-mode .dot {
            background-color: var(--light-text);
        }
        
        .dot:nth-child(1) {
            animation-delay: 0s;
        }
        
        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes dotPulse {
            0%, 100% {
                transform: scale(0.7);
                opacity: 0.7;
            }
            50% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        /* Hero title typewriter effect */
        .hero-title {
            position: relative;
            display: inline-block;
        }
        
        .hero-title::after {
            content: '|';
            color: var(--accent-blue);
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        
        body.light-mode .hero-title::after {
            color: var(--light-accent);
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Responsive Adjustments */
        /* Larger screens (tablets and desktops) */
        @media (max-width: 1200px) {
            #interactive-model {
                width: 150px;
                height: 150px;
                top: 8%;
                right: 3%;
            }
            
            .subjects-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }
        
        /* Medium screens (larger tablets in portrait, small laptops) */
        @media (max-width: 992px) {
            .hero-content {
                flex-direction: column;
                text-align: center;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .cta-buttons {
                justify-content: center;
            }
            
            #interactive-model {
                width: 100px;
                height: 100px;
                top: 100px;
                right: 10px;
            }
            
            .nav-links {
                gap: 15px;
            }
            
            .score-charts {
                flex-direction: column;
                align-items: center;
            }
            
            .chart-container {
                width: 100%;
            }
        }
        
        /* Small screens (most mobile phones) */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            #interactive-model {
                position: absolute;
                top: 50px;
                right: 10px;
                width: 80px;
                height: 80px;
            }
            
            .header-content {
                justify-content: space-around;
            }
            
            .chatbot-container {
                width: 90%;
                right: 5%;
                bottom: 10px;
            }
            
            .chatbot-window {
                height: 400px;
            }
            
            .subjects-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Very small mobile screens */
        @media (max-width: 480px) {
            #loading-text {
                font-size: 2.5rem;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .cta-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .btn {
                width: 100%;
            }

            .section-title {
                font-size: 1.8rem;
            }

            .subject-card {
                padding: 20px;
            }

            .game-table th, .game-table td {
                padding: 10px;
                font-size: 0.9rem;
            }
            
            .game-table td:first-child {
                font-size: 1rem;
            }
            
            .contact-form {
                padding: 20px;
            }
        }
        
        .header-controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .theme-switch {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
    </style>
</head>
<body>
    <!-- Premium Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <div id="loading-text">BASIKNO</div>
            <div class="progress-bar-container">
                <div class="progress-bar"></div>
            </div>
            <p class="loading-subtext">Optimizing your learning experience...</p>
        </div>
    </div>

    <!-- 3D Background - This iframe loads the background 3D scene from Spline. -->
    <iframe id="background" src='https://my.spline.design/claritystream-oGw5GE8yOW3VqZwQyLZzAMg6/' frameborder='0'></iframe>
    
    <!-- Light mode background GIF -->
    <img src="https://assets.onecompiler.app/438cc35sk/43mek3fjm/pixverse_mp4_media_web_154b8782-93a2-49e6-9a73-b1858ab42d57_seed803770902%20(online-video-cutter.com)%20(1)%20(1).gif" class="light-bg-gif" alt="Light mode background">

    <!-- Header section, fixed at the top for navigation -->
    <header>
        <div class="container">
            <div class="header-content">
                <!-- Logo linking to home -->
                <a href="#" class="logo">BASIKNO</a>
                
                <div class="header-controls">
                    <div class="theme-switch">
                        <i class="fas fa-moon"></i>
                        <label class="switch">
                            <input type="checkbox" id="themeToggle">
                            <span class="slider"></span>
                        </label>
                        <i class="fas fa-sun"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Hero Section - Main introductory content -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title" id="heroTitle">LEVEL UP YOUR BRAIN WHILE PLAYING!</h1>
                    <p>Basikno transforms learning into an epic adventure. Solve physics puzzles to unlock new worlds, master math to defeat quiz monsters, and collect knowledge points to upgrade your skills!</p>
                    
                    <div class="cta-buttons">
                        <a href="#subjects" class="btn btn-primary">
                            <i class="fas fa-gamepad" style="margin-right: 10px;"></i> START PLAYING
                        </a>
                        <a href="#scores" class="btn btn-secondary">
                            <i class="fas fa-trophy" style="margin-right: 10px;"></i> VIEW SCORES
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Subjects Section -->
    <section class="subjects" id="subjects">
        <div class="container">
            <h2 class="section-title">CHOOSE YOUR ADVENTURE</h2>
            <div class="subjects-grid">
                <div class="subject-card" data-subject="Mathematics">
                    <div class="subject-icon">
                        <i class="fas fa-square-root-alt"></i>
                    </div>
                    <h3>MATH DUNGEON</h3>
                    <p>Solve equations to unlock doors, defeat number monsters with correct answers, collect golden variables.</p>
                </div>
                <div class="subject-card" data-subject="Physics">
                    <div class="subject-icon">
                        <i class="fas fa-atom"></i>
                    </div>
                    <h3>PHYSICS GALAXY</h3>
                    <p>Apply forces to move objects, calculate trajectories to hit targets, balance equations to build structures.</p>
                </div>
                <div class="subject-card" data-subject="Chemistry">
                    <div class="subject-icon">
                        <i class="fas fa-flask"></i>
                    </div>
                    <h3>CHEMISTRY LAB</h3>
                    <p>Combine elements to create compounds, discover reactions to solve puzzles, balance equations to neutralize hazards.</p>
                </div>
            </div>
            
            <!-- Subjects Table -->
            <h2 class="section-title" style="margin-top: 80px;">GAME MECHANICS</h2>
            <table class="game-table">
                <tr>
                    <th>SUBJECT</th>
                    <th>GAME MECHANICS</th>
                    <th>DIFFICULTY</th>
                </tr>
                <tr>
                    <td>Mathematics</td>
                    <td>Solve equations to unlock doors, defeat number monsters with correct answers, collect golden variables.</td>
                    <td>Beginner to Advanced</td>
                </tr>
                <tr>
                    <td>Physics</td>
                    <td>Apply forces to move objects, calculate trajectories to hit targets, balance equations to build structures.</td>
                    <td>Intermediate to Expert</td>
                </tr>
                <tr>
                    <td>Chemistry</td>
                    <td>Combine elements to create compounds, discover reactions to solve puzzles, balance equations to neutralize hazards.</td>
                    <td>Beginner to Expert</td>
                </tr>
            </table>
        </div>
    </section>
    
    <!-- Iframe containers for each subject -->
    <div class="iframe-container" id="MathematicsFrame">
        <div class="iframe-close" data-frame="MathematicsFrame"><i class="fas fa-times"></i></div>
        <iframe src="math.html" title="Math Dungeon"></iframe>
    </div>
    
    <div class="iframe-container" id="PhysicsFrame">
        <div class="iframe-close" data-frame="PhysicsFrame"><i class="fas fa-times"></i></div>
        <iframe src="physics.html" title="Physics Galaxy"></iframe>
    </div>
    
    <div class="iframe-container" id="ChemistryFrame">
        <div class="iframe-close" data-frame="ChemistryFrame"><i class="fas fa-times"></i></div>
        <iframe src="chemistry.html" title="Chemistry Lab"></iframe>
    </div>
    
    <!-- Score Section -->
    <section class="score-section" id="scores">
        <div class="container">
            <h2 class="section-title">YOUR PROGRESS</h2>
            
            <!-- User Level Display -->
            <div class="user-level">
                <h3>LEVEL</h3>
                <div class="level-display" id="userLevel">0</div>
            </div>
            
            <!-- Score Charts -->
            <div class="score-charts">
                <div class="chart-container">
                    <div class="chart-title">SCORE</div>
                    <canvas id="pieChart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">PROGRESSION</div>
                    <canvas id="barChart"></canvas>
                </div>
            </div>
            
            <!-- Score History -->
            <div class="score-history">
                <h3>SCORE HISTORY</h3>
                <ul class="score-list" id="scoreList">
                    <!-- Score items will be populated by JavaScript -->
                </ul>
            </div>
        </div>
    </section>
    
    <!-- Contact Section -->
    <section class="contact-section" id="contact">
        <div class="container">
            <h2 class="section-title">CONTACT US</h2>
            <div class="contact-form">
                <!-- FormSubmit.co endpoint setup -->
                <form id="contactForm" action="https://formsubmit.co/arafatislamlam15@gmail.com" method="POST">
                    <div class="form-group">
                        <label for="name">Your Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Your Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Your Message</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>
                    <button type="submit" class="submit-btn">SEND MESSAGE</button>
                    <!-- Success/Error Message Display -->
                    <div id="formMessage" class="message"></div>
                </form>
            </div>
        </div>
    </section>
    
    <!-- Footer Section -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Our Mission</h3>
                    <p>To make learning as addictive as your favorite game. We disguise education as entertainment so you'll keep coming back for more!</p>
                    <blockquote>
                        "At Basikno, every correct answer feels like a victory royale!"
                    </blockquote>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#subjects">Start Learning</a></li>
                        <li><a href="#scores">View Scores</a></li>
                        <li><a href="#contact">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <div class="social-icons">
                        <a href="#" class="social-icon" aria-label="Join our Discord"><i class="fab fa-discord"></i></a>
                        <a href="#" class="social-icon" aria-label="Follow us on X"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon" aria-label="Subscribe to our YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-icon" aria-label="Follow us on TikTok"><i class="fab fa-tiktok"></i></a>
                    </div>
                    <div style="margin-top: 20px;">
                        <div id="google_translate_element"></div>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Basikno. All rights reserved. Learning disguised as gaming for ages 0-100.</p>
                <p style="margin-top: 10px; font-size: 0.7rem;">Designed with &#x2764; by AI Assistant</p>
            </div>
        </div>
    </footer>
    
    <!-- Chatbot Container -->
    <div class="chatbot-container">
        <button class="chatbot-toggle" id="chatbotToggle">
            <i class="fas fa-robot"></i>
        </button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3>Basikno Assistant</h3>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">
                    Hello! I'm your Basikno learning assistant. How can I help you today?
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Ask me anything about math, physics, or chemistry...">
                <button id="chatbotSend"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
    
    <!-- Google Translate Script -->
    <script>
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'bn,en,es,fr,de,it,pt,ru,zh-CN,ja,ko,ar,hi',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
            
            const userLang = navigator.language || navigator.userLanguage;
            if(userLang && userLang !== 'en') {
                setTimeout(() => {
                    const select = document.querySelector('.goog-te-combo');
                    if(select) {
                        select.value = userLang;
                        select.dispatchEvent(new Event('change'));
                    }
                }, 1000);
            }
        }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Global chart instances to allow destruction and recreation
        let pieChartInstance = null;
        let barChartInstance = null;

        // Store base HSL values for each subject to ensure color consistency across theme changes
        // Using a Map for better key-value pair management, especially if subject names could vary in case.
        const subjectColorMap = new Map();

        // Helper function to generate a consistent HSL base (hue, saturation) for subjects
        // and adapt lightness based on theme.
        function getSubjectColor(subject) {
            // Define a set of distinct, aesthetically pleasing hues for the core subjects.
            // These are somewhat arbitrary but chosen to be visually different.
            const predefinedHues = {
                'Mathematics': 240, // Blue
                'Physics': 30,      // Orange/Yellow
                'Chemistry': 120    // Green
            };

            let hue;
            if (predefinedHues[subject]) {
                hue = predefinedHues[subject];
            } else {
                // For any unexpected subject, generate a random but within a safe range for harmony
                hue = Math.floor(Math.random() * 360);
            }

            // Fixed saturation for consistency across subjects
            const saturation = 70; // High saturation for vibrant colors

            let lightness;
            // Adjust lightness based on the current theme for optimal contrast
            if (document.body.classList.contains('light-mode')) {
                lightness = 40; // Darker for light backgrounds
            } else {
                lightness = 70; // Brighter for dark backgrounds
            }
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }


        // Loading Screen functionality
        const loadingScreen = document.getElementById('loading-screen');

        // Hide loading screen once all content is loaded
        window.addEventListener('load', () => {
            // A short delay ensures all animations complete before hiding
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                // Allow scrolling after the loading screen is hidden
                document.body.style.overflow = '';
            }, 500); // 500ms delay
        });

        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        // Check for saved theme preference or use preferred color scheme
        const savedTheme = localStorage.getItem('theme') || 
                            (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
        
        // Apply the saved theme
        if (savedTheme === 'light') {
            body.classList.add('light-mode');
            themeToggle.checked = true;
        }
        
        // Toggle theme on switch
        themeToggle.addEventListener('change', function() {
            if (this.checked) {
                body.classList.add('light-mode');
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.remove('light-mode');
                localStorage.setItem('theme', 'light');
            }
            // Re-render charts to update colors with new theme
            updateScoreUI();
        });
        
        // Chatbot Functionality
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotSend = document.getElementById('chatbotSend');
        
        let chatbotOpen = false;
        
        // Toggle chatbot window
        chatbotToggle.addEventListener('click', function() {
            if (chatbotOpen) {
                chatbotWindow.style.display = 'none';
                chatbotOpen = false;
            } else {
                chatbotWindow.style.display = 'flex';
                chatbotOpen = true;
                // Focus on input field when chatbot opens
                chatbotInput.focus();
            }
        });
        
        chatbotSend.addEventListener('click', sendChatMessage);
        chatbotInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendChatMessage();
        });
        
        async function sendChatMessage() {
            const message = chatbotInput.value.trim();
            if (!message) return;
            
            // Add user message
            addChatMessage(message, 'user');
            chatbotInput.value = '';
            
            // Add loading indicator
            const loadingId = addLoadingIndicator();
            
            try {
                // Using Gemini API as per new instructions.
                let chatHistory = [{ role: "user", parts: [{ text: message }] }];
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyDSxBCZWuN4EkiKOAwHUNNHhsGc3U6s_hM"; // Canvas will inject the key at runtime for allowed models
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                const result = await response.json();
                
                // Remove loading indicator
                removeLoadingIndicator(loadingId);
                
                // Check if response structure is valid
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const botResponse = result.candidates[0].content.parts[0].text;
                    
                    // Convert common emoji codes to actual emojis for a friendly touch
                    const responseWithEmojis = botResponse
                        .replace(/:\)/g, '')
                        .replace(/:\(/g, '')
                        .replace(/:D/g, '')
                        .replace(/<3/g, '')
                        .replace(/:o/g, '')
                        .replace(/:P/g, '');
                    
                    // Add bot response
                    addChatMessage(responseWithEmojis, 'bot');
                } else {
                    console.error('Unexpected API response structure:', result);
                    addChatMessage("I didn't receive a valid response. Please try again or rephrase your question.", 'bot');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                // Remove loading indicator
                removeLoadingIndicator(loadingId);
                addChatMessage("I'm having trouble connecting to the learning assistant. Please try again later.", 'bot');
            }
        }
        
        function addChatMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender === 'bot' ? 'bot-message' : 'user-message');
            messageDiv.textContent = text;
            chatbotMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        function addLoadingIndicator() {
            const loadingDiv = document.createElement('div');
            loadingDiv.classList.add('message', 'bot-message', 'loading');
            const id = 'loading-' + Date.now();
            loadingDiv.id = id;
            
            // Add dots
            for (let i = 0; i < 3; i++) {
                const dot = document.createElement('div');
                dot.classList.add('dot');
                loadingDiv.appendChild(dot);
            }
            
            chatbotMessages.appendChild(loadingDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            
            return id;
        }
        
        function removeLoadingIndicator(id) {
            const loadingDiv = document.getElementById(id);
            if (loadingDiv) {
                loadingDiv.remove();
            }
        }
        
        // Score data handling
        function initializeScoreData() {
            // Set a default level if none exists
            if (!localStorage.getItem('levelofbasikno')) {
                localStorage.setItem('levelofbasikno', '0');
            }
            
            // Initialize empty scores if none exist
            if (!localStorage.getItem('scoreofbasikno')) {
                localStorage.setItem('scoreofbasikno', JSON.stringify([]));
            }
            
            // Update UI with score data
            updateScoreUI();
        }
        
        function updateScoreUI() {
            // Update user level
            const userLevel = document.getElementById('userLevel');
            userLevel.textContent = localStorage.getItem('levelofbasikno') || '0';
            
            // Get score data
            const scores = JSON.parse(localStorage.getItem('scoreofbasikno') || '[]');
            
            // Update score history list
            const scoreList = document.getElementById('scoreList');
            scoreList.innerHTML = '';
            
            if (scores.length === 0) {
                // Show message when no scores exist
                const noScoresMessage = document.createElement('li');
                noScoresMessage.className = 'score-item';
                noScoresMessage.innerHTML = `<span style="text-align: center; width: 100%; color: ${document.body.classList.contains('light-mode') ? 'var(--light-text)' : 'var(--light-purple)'};">No scores yet. Start playing to see your progress!</span>`;
                scoreList.appendChild(noScoresMessage);
            } else {
                // Sort scores by date (newest first)
                scores.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                // Add scores to the list
                scores.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.className = 'score-item';
                    
                    const dateDisplay = document.createElement('span');
                    dateDisplay.className = 'score-date';
                    dateDisplay.textContent = new Date(item.date).toLocaleDateString();
                    
                    const subjectDisplay = document.createElement('span');
                    subjectDisplay.className = 'score-subject';
                    subjectDisplay.textContent = item.subject.charAt(0).toUpperCase() + item.subject.slice(1);
                    
                    const scoreDisplay = document.createElement('span');
                    scoreDisplay.className = 'score-value';
                    scoreDisplay.textContent = item.score;
                    
                    listItem.appendChild(dateDisplay);
                    listItem.appendChild(subjectDisplay);
                    listItem.appendChild(scoreDisplay);
                    
                    scoreList.appendChild(listItem);
                });
            }
            
            // Create pie chart
            createPieChart(scores);
            
            // Create bar chart
            createBarChart(scores);
        }
        
        function createPieChart(scores) {
            // Get the canvas element
            const ctx = document.getElementById('pieChart').getContext('2d');
            
            // Destroy existing chart instance if it exists
            if (pieChartInstance) {
                pieChartInstance.destroy();
            }

            if (scores.length === 0) {
                // Show empty chart with message
                pieChartInstance = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['No Data'],
                        datasets: [{
                            data: [1],
                            backgroundColor: [document.body.classList.contains('light-mode') ? 'rgba(200, 200, 200, 0.5)' : 'rgba(100, 100, 100, 0.3)'],
                            borderColor: document.body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.2)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: false
                            }
                        }
                    }
                });
                return;
            }
            
            // Calculate total scores per subject
            const subjectTotals = {};
            scores.forEach(item => {
                if (!subjectTotals[item.subject]) {
                    subjectTotals[item.subject] = 0;
                }
                subjectTotals[item.subject] += item.score;
            });
            
            // Create chart data
            const subjects = Object.keys(subjectTotals);
            const data = subjects.map(subject => subjectTotals[subject]);
            
            // Dynamically get colors for each subject based on current theme
            const backgroundColors = subjects.map(subject => getSubjectColor(subject));
            
            // Create the pie chart
            pieChartInstance = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: subjects.map(s => s.charAt(0).toUpperCase() + s.slice(1)),
                    datasets: [{
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: document.body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.2)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: body.classList.contains('light-mode') ? 'var(--light-text)' : 'var(--light-purple)',
                                font: {
                                    family: 'Orbitron, sans-serif'
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function createBarChart(scores) {
            // Get the canvas element
            const ctx = document.getElementById('barChart').getContext('2d');
            
            // Destroy existing chart instance if it exists
            if (barChartInstance) {
                barChartInstance.destroy();
            }

            if (scores.length === 0) {
                // Show empty chart
                barChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['No Data'],
                        datasets: [{
                            label: 'Score',
                            data: [0],
                            backgroundColor: [document.body.classList.contains('light-mode') ? 'rgba(200, 200, 200, 0.5)' : 'rgba(100, 100, 100, 0.3)'],
                            borderColor: document.body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.2)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 10,
                                ticks: {
                                    color: body.classList.contains('light-mode') ? 'var(--light-text)' : 'var(--light-purple)'
                                },
                                grid: {
                                    color: body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.1)'
                                }
                            },
                            x: {
                                ticks: {
                                    color: body.classList.contains('light-mode') ? 'var(--light-text)' : 'var(--light-purple)'
                                },
                                grid: {
                                    color: body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.1)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: false
                            }
                        }
                    }
                });
                return;
            }
            
            // Sort scores by date (oldest first)
            scores.sort((a, b) => new Date(a.date) - new Date(b.date));
            
            // Get last 5 entries
            const recentScores = scores.slice(-5);
            
            // Create chart data
            const labels = recentScores.map(item => new Date(item.date).toLocaleDateString());
            const data = recentScores.map(item => item.score);
            
            // Dynamically get colors for each subject based on current theme
            const backgroundColors = recentScores.map(item => getSubjectColor(item.subject));
            
            // Create the bar chart
            barChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Score',
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: document.body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.2)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: body.classList.contains('light-mode') ? 'var(--light-text)' : 'var(--light-purple)'
                            },
                            grid: {
                                color: body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: body.classList.contains('light-mode') ? 'var(--light-text)' : 'var(--light-purple)'
                            },
                            grid: {
                                color: body.classList.contains('light-mode') ? 'rgba(0, 0, 0, 0.1)' : 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // Handle subject card clicks to show iframes
        const subjectCards = document.querySelectorAll('.subject-card');
        
        subjectCards.forEach(card => {
            card.addEventListener('click', function() {
                const subject = this.getAttribute('data-subject');
                document.getElementById(`${subject}Frame`).style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent scrolling when iframe is shown
            });
        });
        
        // Handle iframe close buttons
        const iframeCloseButtons = document.querySelectorAll('.iframe-close');
        
        iframeCloseButtons.forEach(button => {
            button.addEventListener('click', function() {
                const frameId = this.getAttribute('data-frame');
                document.getElementById(frameId).style.display = 'none';
                document.body.style.overflow = ''; // Restore scrolling
            });
        });
        
        // Form submission handler
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const form = e.target;
            const formMessage = document.getElementById('formMessage');
            const submitButton = form.querySelector('button[type="submit"]');
            
            // Get form data
            const formData = new FormData(form);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                message: formData.get('message'),
                to: 'arafatislamlam15@gmail.com' // Your email address
            };
            
            // Validate form
            if (!data.name || !data.email || !data.message) {
                formMessage.textContent = 'Please fill in all fields';
                formMessage.className = 'form-message error-message';
                return;
            }
            
            if (!data.email.includes('@') || !data.email.includes('.')) {
                formMessage.textContent = 'Please enter a valid email address';
                formMessage.className = 'form-message error-message';
                return;
            }
            
            // Change button text
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
            formMessage.textContent = '';
            
            // In production, replace this with actual email sending code
            // Example using FormSubmit.co (free service)
            fetch('https://formsubmit.co/ajax/arafatislamlam15@gmail.com', {
                method: 'POST',
                headers: { 
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                formMessage.textContent = 'Message sent successfully! We will respond soon.';
                formMessage.className = 'form-message success-message';
                form.reset();
            })
            .catch(error => {
                formMessage.textContent = 'Error sending message. Please try again later.';
                formMessage.className = 'form-message error-message';
                console.error('Error:', error);
            })
            .finally(() => {
                submitButton.disabled = false;
                submitButton.textContent = 'Send Message';
                
                // Reset message after 5 seconds
                setTimeout(() => {
                    formMessage.textContent = '';
                }, 5000);
            });
        });

        function displayFormMessage(message, type) {
            formMessage.textContent = message;
            formMessage.className = 'message'; // Reset classes
            formMessage.classList.add(type); // Add success or error class
            formMessage.style.display = 'block'; // Show the message
        }

        // Hero title typewriter effect
        const heroTitles = [
            "LEVEL UP YOUR BRAIN WHILE PLAYING!",
            "KNOWLEDGE IS NOT A DESTINATION, BUT A JOURNEY THROUGH THE STARS!",
            "IN THE GAME OF LEARNING, EVERY CHALLENGE IS ANOTHER LEVEL TO CONQUER!",
            "THE UNIVERSE OF KNOWLEDGE EXPANDS WITH EVERY QUESTION YOU ASK!",
            "EDUCATION BECOMES MAGIC WHEN WE TRANSFORM FACTS INTO ADVENTURES!",
            "THE MOST POWERFUL WEAPON IS A MIND SHARPENED BY LEARNING!"
        ];
        
        let currentTitleIndex = 0;
        let isTyping = false;
        
        function typewriterEffect() {
            if (isTyping) return;
            
            const heroTitle = document.getElementById('heroTitle');
            const currentText = heroTitle.textContent;
            const nextText = heroTitles[currentTitleIndex];
            
            isTyping = true;
            
            // Erase current text
            eraseText(heroTitle, currentText, () => {
                // Type new text
                typeText(heroTitle, nextText, () => {
                    isTyping = false;
                    // Move to next title
                    currentTitleIndex = (currentTitleIndex + 1) % heroTitles.length;
                });
            });
        }
        
        function eraseText(element, text, callback) {
            let i = text.length;
            
            function erase() {
                if (i > 0) {
                    element.textContent = text.substring(0, i - 1);
                    i--;
                    setTimeout(erase, 30); // Speed of erasing
                } else {
                    callback();
                }
            }
            
            erase();
        }
        
        function typeText(element, text, callback) {
            let i = 0;
            
            function type() {
                if (i < text.length) {
                    element.textContent = text.substring(0, i + 1);
                    i++;
                    setTimeout(type, 50); // Speed of typing
                } else {
                    callback();
                }
            }
            
            type();
        }
        
        // Start typewriter effect after page load and repeat every 6 seconds
        setTimeout(() => {
            setInterval(typewriterEffect, 6000);
        }, 3000); // Wait 3 seconds before starting
        
        // Security: Prevent form injection
        document.querySelectorAll('input, textarea').forEach(element => {
            element.addEventListener('input', function() {
                this.value = this.value.replace(/<[^>]*>/g, ''); // Strip HTML tags
            });
        });
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Prevent scrolling immediately
            document.body.style.overflow = 'hidden';
            initializeScoreData();
        });
    </script>
</body>
</html>
